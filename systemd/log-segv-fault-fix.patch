diff -Naur a/src/shared/log.c b/src/shared/log.c
--- a/src/shared/log.c	2012-09-21 12:07:41.885429447 +0200
+++ b/src/shared/log.c	2012-09-23 18:06:36.052730595 +0200
@@ -706,7 +706,7 @@
                 while (format && n + 1 < ELEMENTSOF(iovec)) {
                         char *buf;
 
-                        if (vasprintf(&buf, format, ap) < 0) {
+                        if (vasprintf(&buf, &format, ap) < 0) {
                                 r = -ENOMEM;
                                 goto finish;
                         }
@@ -743,7 +743,7 @@
                 va_start(ap, format);
                 while (format) {
 
-                        vsnprintf(buf, sizeof(buf), format, ap);
+                        vsnprintf(buf, sizeof(buf), &format, ap);
                         char_array_0(buf);
 
                         if (startswith(buf, "MESSAGE=")) {
